<!doctype html>
<!--[if lt IE 7 ]> <html lang="en" class="ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9 ]>    <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
    <script type="text/javascript" src="https://jambronner.github.io/storymode/Flipbook/files/extras/jquery.min.1.7.js"></script>
    <script type="text/javascript" src="https://rkei0.csb.app/turn.min.js"></script>
    <script type="text/javascript" src="https://jambronner.github.io/storymode/Flipbook/files/extras/modernizr.2.5.3.min.js"></script>
    <link rel="stylesheet" type="text/css" href="turntest.css" />
</head>
<body>
<div class="wrapper">
    <div class="aspect">
        <div class="aspect-inner">
            <div class="flipbook" id="flipbook">
                <div class="page"><img src="https://jambronner.github.io/storymode/stories/ttmysw/1.pdf" draggable="false" alt="" /></div>
                <div class="page"><img src="https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/02.jpg" draggable="false" alt="" /></div>
                <div  class="page"><img src="https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/03.jpg" draggable="false" alt="" /></div>
                <div class="page"><img src="https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/04.jpg" draggable="false" alt="" /></div>
                <div class="page"><img src="https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/05.jpg" draggable="false" alt="" /></div>
                <div class="page"><img src="https://raw.github.com/blasten/turn.js/master/demos/magazine/pages/06.jpg" draggable="false" alt="" /></div>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">

function loadApp() {

    var flipbook = $('.flipbook');

    // listen to the window resize event of the browser and ensure Turn.js is kept up-to-date with any changes from css resizing
var flipbookEL = document.getElementById('flipbook');
window.addEventListener('resize', function (e) {
    flipbookEL.style.width = '';
    flipbookEL.style.height = '';
    $(flipbookEL).turn('size', flipbookEL.clientWidth, flipbookEL.clientHeight);
});

$(flipbookEL).turn({
    autoCenter: true
});

// Arrows navigation

$(document).keydown(function(e) {
		var previous = 37, next = 39;

		switch (e.keyCode) {
			case previous:
				flipbook.turn('previous');
				break;
			case next:
				flipbook.turn('next');
				break;
		}
	});

}

// Load the HTML4 version if there's not CSS transform

yepnope({
	test : Modernizr.csstransforms,
	yep: ['https://rkei0.csb.app/turn.min.js'],
	nope: ['https://rkei0.csb.app/turn.min.js'],
	both: ['turntest.css'],
	complete: loadApp
});

</script>

</body>
</html>
